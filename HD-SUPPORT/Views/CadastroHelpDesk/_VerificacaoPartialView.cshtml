<form asp-action="VerificacaoEmail" asp-controller="CadastroHelpDesk" method="post">
    <h1>Verifique o seu email</h1><br />

    <input type="text" placeholder="Digite o código" id="inputCodigo" />

    <a role="button" class="btn btn-outline-success btnVerificar">Verificar</a>
</form>

<div class="modal fade" id="modalSucesso" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Erro</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="Modelsucesso">
                    Cadastro Criado com Sucesso!
                </div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
@section Scripts {
    <script src="~/js/jquery.inputmask.js"></script>
    <script>
        $(document).ready(function () {
            $('.btnVerificar').click(function () {
                console.log('botao clicado');
            });

            function VerificarCodigo() {
                var codigoVerificacao = window.codigoVerificacao;
                $.ajax({
                    type: 'POST',
                    url: '/CadastroHelpDesk/VerificacaoEmail',
                    data: { codigo: codigoVerificacao },
                    success: function (result) {
                        console.log('VerificacaoEmail sucesso');
                        window.location.href = '/CadastroHelpDesk/Login';
                        $('#FormCadastro').submit();
                        $('#modalSucesso').modal('show');
                    },
                    error: function (jqXHR, textStatus, errorThrown) {
                        console.error('VerificacaoEmail error:', textStatus, errorThrown);
                        return false;
                    }
                });
            }
        });
    </script>
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}